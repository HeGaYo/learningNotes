C++用不同的方案来存储数据，区别在于数据保留在内存的时间。
**存储持续性**
- 自动存储持续性
在函数或者代码块时被创建，执行完函数或者代码块时，使用的内存就被释放
- 静态存储持续性
在函数定义外定义的变量和使用关键字static定义的变量
    - 外部链接性：其他文件可以访问
    - 内部链接性：在当前文件访问
    - 无链接性：在当前函数或代码块中访问
- 线程存储持续性
CPU多线程中，一般用thread_local声明
- 动态存储持续性
一般用new，delete来分配和释放内存。有时也被称为自由存储或堆。

**c++如何实现自动变量**
留出一段内存，将其视为栈，来管理变量的增减。
当函数被调用的时候，其自动变量被加入到栈中，栈顶指针指向变量后面的一个可用的内存单元。函数结束后，栈顶指针会被重置为函数调用前的值，从而释放新变量使用的内存。

**静态持续变量**
静态变量的数目在程序运行期间是不变的，因此不会用栈来管理它们。编译器分配固定的内存块来存储所有的静态变量，这些变量在整个程序的执行期间一直存在。初始化静态数组和结构，编译器把所有位都设置为0.
三种类型的静态变量举例：
```
int global = 0;
static int one_file = 100;
void func1(int n){
    static int count = 0;
}
```
值得注意的是:
1. 即使func1()函数没有被执行时，count也会存在内存中。
2. global 和 one_file的作用域都在整个文件，从声明位置到文件结尾的范围内都可以被使用。

|存储描述|持续性|作用域|链接性|如何声明|
|---|----|--|----|---|
|自动|自动|代码块|无|在代码块中|
|寄存器|自动|代码块|无|在代码块中，用register|
|静态、无链接性|静态|代码块|无|在代码块中，用static|
|静态、外部链接性|静态|文件|外部|不在任何函数内|
|静态、内部链接性|静态|文件|内部|不在任何函数内，使用关键词static|

```
const char * const months[12]={
    "JAN","FEB","MAR"...
}
```
第一个const防止字符串被修改，第二个const确保数组中每个指针始终指向它最初指向的字符串。
